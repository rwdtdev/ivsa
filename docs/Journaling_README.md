# Журналирование операций

### Данные:

В базе сохраняются записи, содержащие следующие поля:

- `userId` - id пользователя
- `subSystemId` - id подсистемы, совершающей операцию (портал, шлюз, мобильное приложение и т.п.)
- `timestamp` - временная метка события сохранения
- `payload` - информация об операции

N.B.: Пока `record.payload` это произвольный сериализуемый объект (хранить будем JSON, т.ч. нужно, чтобы он корректно сериализовался/десериализовался `JSON.stringify`/`JSON.parse`).

### Экспортируемые функции и интерфейсы:
#### Интерфейсы:
- **`storeRecordReturnValue`**:
    - `success` - булево значение
    - `errorMessage` - _(опциональное поле)_ строка (передаётся только в случае ошибки)

- **`storedRecord`**:
    - `userId` - строка (без валидации формата)
    - `subSystemId` - строка (без валидации формата)
    - `timestamp` - временная метка
    - `payload` - сериализуемый объект с информацией об операции (пока произвольного вида)

- **`getRecordsParameters`**:
    - `userIds` - _(опциональное поле)_ массив строковых значений - id пользователей, от имени которых была проведена операция
    - `subSystemIds` - _(опциональное поле)_ массив строковых значений - id подсистем, в которых была проведена операция
    - `timestampRange` - _(опциональное поле)_ временной интервал событий (пока `any`)
    - `maxRecordsToReturn` - _(опциональное поле)_ максимальное возвращаемое число записей, по умолчанию - 1000

- **`getRecordsReturnValue`**:
    - `success` - булево значение
    - `errorMessage` - _(опциональное поле)_ строка (передаётся только в случае ошибки)
    - `records` - массив значений типа `storedRecord`

#### Функции:
- **`storeRecord`**

- **`getRecords`**

